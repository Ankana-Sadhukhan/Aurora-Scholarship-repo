<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Aurora Scholarship Application</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f0f2f5;
      padding: 40px;
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
    }

    h1 {
      font-size: 24px;
      color: #2c3e50;
      margin-bottom: 10px;
    }

    .nav-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 20px;
    }

    .nav-link {
      padding: 8px 16px;
      background-color: #007bff;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-weight: 500;
      transition: background-color 0.3s;
    }

    .nav-link:hover {
      background-color: #0056b3;
    }

    .active {
      background-color: #0056b3;
      font-weight: bold;
    }

    form {
      background-color: white;
      max-width: 750px;
      margin: auto;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    }

    fieldset {
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 25px;
    }

    legend {
      font-weight: bold;
      color: #007bff;
      padding: 0 10px;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: 500;
    }

    select, input[type="text"], input[type="number"], input[type="email"], input[type="date"], input[type="tel"] {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .download-btn {
      display: block;
      width: 100%;
      padding: 12px;
      background-color: #007bff;
      color: white;
      text-align: center;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 20px;
      transition: background 0.3s ease;
    }

    .download-btn:hover {
      background-color: #0056b3;
    }
    
    .alert-text {
      color: red;
      font-weight: bold;
      margin-top: 10px;
      display: none;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Aurora Scholarship Application Form</h1>
    <div class="nav-links">
      <a href="appli.html" class="nav-link active">Application Form</a>
      <a href="registration.html" class="nav-link">Document Upload</a>
    </div>
  </div>

  <form id="scholarshipForm">
    <fieldset>
      <legend>University / Schooling Details</legend>

      <label for="institution">Institution Name:</label>
      <select id="institution" required>
        <option value="">-- Select --</option>
        <option value="Delhi University">Delhi University</option>
        <option value="IIT Bombay">IIT Bombay</option>
        <option value="University of Delhi">University of Delhi</option>
  <option value="Jawaharlal Nehru University">Jawaharlal Nehru University</option>
  <option value="Banaras Hindu University">Banaras Hindu University</option>
  <option value="Aligarh Muslim University">Aligarh Muslim University</option>
  <option value="University of Hyderabad">University of Hyderabad</option>
  
  <!-- IITs -->
  <option value="IIT Bombay">IIT Bombay</option>
  <option value="IIT Delhi">IIT Delhi</option>
  <option value="IIT Madras">IIT Madras</option>
  <option value="IIT Kharagpur">IIT Kharagpur</option>
  <option value="IIT Kanpur">IIT Kanpur</option>
  <option value="IIT Roorkee">IIT Roorkee</option>
  <option value="IIT Guwahati">IIT Guwahati</option>
  
  <!-- NITs -->
  <option value="NIT Trichy">NIT Trichy</option>
  <option value="NIT Surathkal">NIT Surathkal</option>
  <option value="NIT Warangal">NIT Warangal</option>
  <option value="NIT Calicut">NIT Calicut</option>
  
  <!-- IIITs -->
  <option value="IIIT Hyderabad">IIIT Hyderabad</option>
  <option value="IIIT Bangalore">IIIT Bangalore</option>
  <option value="IIIT Delhi">IIIT Delhi</option>
  
  <!-- Medical Colleges -->
  <option value="AIIMS Delhi">AIIMS Delhi</option>
  <option value="PGIMER Chandigarh">PGIMER Chandigarh</option>
  <option value="CMC Vellore">CMC Vellore</option>
  
  <!-- Law Schools -->
  <option value="NLU Delhi">NLU Delhi</option>
  <option value="NALSAR Hyderabad">NALSAR Hyderabad</option>
  
  <!-- Management Institutes -->
  <option value="IIM Ahmedabad">IIM Ahmedabad</option>
  <option value="IIM Bangalore">IIM Bangalore</option>
  <option value="IIM Calcutta">IIM Calcutta</option>
  
  <!-- State Universities -->
  <option value="University of Mumbai">University of Mumbai</option>
  <option value="University of Calcutta">University of Calcutta</option>
  <option value="University of Madras">University of Madras</option>
  <option value="Punjab University">Punjab University</option>
  <option value="Anna University">Anna University</option>
  
  <!-- Private Universities -->
  <option value="BITS Pilani">BITS Pilani</option>
  <option value="VIT Vellore">VIT Vellore</option>
  <option value="Manipal University">Manipal University</option>
  <option value="Amity University">Amity University</option>
  <option value="JIS University">JIS University</option>
  <option value="UEM University">UEM University</option>
  <option value="Techno India collage">Techno India collage</option>
  <option value="Guru Nanak Institute of Technology">Guru Nanak Institute of Technology</option>
  
  <!-- Other Premier Institutes -->
  <option value="TISS Mumbai">TISS Mumbai</option>
  <option value="ISI Kolkata">ISI Kolkata</option>
  <option value="IISc Bangalore">IISc Bangalore</option>
  
  <!-- <option value="Other">Other (Please Specify)</option> -->

        <option value="Other">Other</option>
      </select>

      <label for="exam">Qualifying Exam:</label>
      <select id="exam" required>
        <option value="">-- Select --</option>
        <optgroup label="School Education">
          <option value="Class 10">Class 10 (Secondary School)</option>
          <option value="Class 12">Class 12 (Senior Secondary)</option>
          <option value="CBSE Board">CBSE Board Examination</option>
          <option value="ICSE Board">ICSE/ISC Board Examination</option>
          <option value="State Board">State Board Examination</option>
          <option value="IB Diploma">IB Diploma Programme</option>
        </optgroup>
        
        <!-- Undergraduate -->
        <optgroup label="Undergraduate">
          <option value="Graduation">Graduation (General)</option>
          <option value="B.Tech/B.E.">B.Tech/B.E. (Engineering)</option>
          <option value="MBBS">MBBS (Medical)</option>
          <option value="B.Sc">B.Sc (Science)</option>
          <option value="B.Com">B.Com (Commerce)</option>
          <option value="B.A.">B.A. (Arts)</option>
          <option value="BBA">BBA (Business Administration)</option>
          <option value="LLB">LLB (Law)</option>
          <option value="B.Arch">B.Arch (Architecture)</option>
          <option value="B.Des">B.Des (Design)</option>
        </optgroup>
        
        <!-- Postgraduate -->
        <optgroup label="Postgraduate">
          <option value="M.Tech/M.E.">M.Tech/M.E.</option>
          <option value="MBA">MBA</option>
          <option value="MCA">MCA</option>
          <option value="M.Sc">M.Sc</option>
          <option value="M.Com">M.Com</option>
          <option value="M.A.">M.A.</option>
          <option value="MD/MS">MD/MS (Medical)</option>
          <option value="PG Diploma">PG Diploma</option>
        </optgroup>
        
        <!-- Competitive Exams -->
        <optgroup label="Competitive Exams">
          <option value="JEE Main">JEE Main</option>
          <option value="JEE Advanced">JEE Advanced</option>
          <option value="NEET">NEET</option>
          <option value="GATE">GATE</option>
          <option value="CAT">CAT</option>
          <option value="UPSC Civil Services">UPSC Civil Services</option>
          <option value="CLAT">CLAT</option>
        </optgroup>
        
        <!-- Research -->
        <optgroup label="Research">
          <option value="Ph.D">Ph.D</option>
          <option value="M.Phil">M.Phil</option>
        </optgroup>
        
        <!-- Other -->
        <option value="Diploma">Diploma</option>
        <option value="Certificate Course">Certificate Course</option>
        <option value="Other">Other (Please Specify)</option>
      </select>

      <label for="year">Year of Exam:</label>
      <select id="year" required>
        <option value="">-- Select --</option>
<option value="2025">2025</option>
<option value="2024">2024</option>
<option value="2023">2023</option>
<option value="2022">2022</option>
<option value="2021">2021</option>
<option value="2020">2020</option>
<option value="2019">2019</option>
<option value="2018">2018</option>
<option value="2017">2017</option>
<option value="2016">2016</option>
<option value="2015">2015</option>
<option value="2014">2014</option>
<option value="2013">2013</option>
<option value="2012">2012</option>
<option value="2011">2011</option>
<option value="2010">2010</option>
<option value="2009">2009</option>
<option value="2008">2008</option>
<option value="2007">2007</option>
<option value="2006">2006</option>
<option value="2005">2005</option>
<option value="2004">2004</option>
<option value="2003">2003</option>
<option value="2002">2002</option>
<option value="2001">2001</option>
<option value="2000">2000</option>
<option value="1999">1999</option>
<option value="1998">1998</option>
<option value="1997">1997</option>
<option value="1996">1996</option>
<option value="1995">1995</option>
<option value="1994">1994</option>
<option value="1993">1993</option>
<option value="1992">1992</option>
<option value="1991">1991</option>
<option value="1990">1990</option>

      </select>

      <label for="percentage">Percentage (%):</label>
      <input type="number" id="percentage" placeholder="Enter percentage" required>
      <span id="percentageAlert" class="alert-text">Percentage must be 60% or above</span>

      <label for="state">State:</label>
      <select id="state" required>
        <option value="">-- Select --</option>
<option value="Andhra Pradesh">Andhra Pradesh</option>
<option value="Arunachal Pradesh">Arunachal Pradesh</option>
<option value="Assam">Assam</option>
<option value="Bihar">Bihar</option>
<option value="Chhattisgarh">Chhattisgarh</option>
<option value="Goa">Goa</option>
<option value="Gujarat">Gujarat</option>
<option value="Haryana">Haryana</option>
<option value="Himachal Pradesh">Himachal Pradesh</option>
<option value="Jharkhand">Jharkhand</option>
<option value="Karnataka">Karnataka</option>
<option value="Kerala">Kerala</option>
<option value="Madhya Pradesh">Madhya Pradesh</option>
<option value="Maharashtra">Maharashtra</option>
<option value="Manipur">Manipur</option>
<option value="Meghalaya">Meghalaya</option>
<option value="Mizoram">Mizoram</option>
<option value="Nagaland">Nagaland</option>
<option value="Odisha">Odisha</option>
<option value="Punjab">Punjab</option>
<option value="Rajasthan">Rajasthan</option>
<option value="Sikkim">Sikkim</option>
<option value="Tamil Nadu">Tamil Nadu</option>
<option value="Telangana">Telangana</option>
<option value="Tripura">Tripura</option>
<option value="Uttar Pradesh">Uttar Pradesh</option>
<option value="Uttarakhand">Uttarakhand</option>
<option value="West Bengal">West Bengal</option>
<option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
<option value="Chandigarh">Chandigarh</option>
<option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and Diu</option>
<option value="Delhi">Delhi</option>
<option value="Jammu and Kashmir">Jammu and Kashmir</option>
<option value="Ladakh">Ladakh</option>
<option value="Lakshadweep">Lakshadweep</option>
<option value="Puducherry">Puducherry</option>
<option value="Other">Other</option>

      </select>
    </fieldset>

    <fieldset>
      <legend>Personal Details</legend>

      <label for="title">Title:</label>
      <select id="title" required>
        <option value="">-- Select --</option>
        <option value="Mr.">Mr.</option>
        <option value="Ms.">Ms.</option>
        <option value="Mrs.">Mrs.</option>
      </select>

      <label for="fullname">Full Name:</label>
      <input type="text" id="fullname" placeholder="Enter full name" required>

      <label for="sex">Sex:</label>
      <select id="sex" required>
        <option value="">-- Select --</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>

      <label for="mobile">Mobile Number:</label>
      <input type="tel" id="mobile" placeholder="Enter mobile number" required>

      <label for="email">Email:</label>
      <input type="email" id="email" placeholder="Enter email" required>

      <label for="applyDate">Date of Application:</label>
      <input type="date" id="applyDate" required>

      <label for="district">District:</label>
      <input type="text" id="district" placeholder="Enter district" required>

      <label for="currentCourse">Current Course:</label>
      <select id="currentCourse" required>
        <option value="">-- Select --</option>
<option value="B.Tech">B.Tech</option>
<option value="M.Tech">M.Tech</option>
<option value="B.E">B.E</option>
<option value="MBBS">MBBS</option>
<option value="BDS">BDS</option>
<option value="BAMS">BAMS</option>
<option value="BHMS">BHMS</option>
<option value="B.Sc Nursing">B.Sc Nursing</option>
<option value="B.Pharm">B.Pharm</option>
<option value="D.Pharm">D.Pharm</option>
<option value="B.Com">B.Com</option>
<option value="M.Com">M.Com</option>
<option value="BBA">BBA</option>
<option value="MBA">MBA</option>
<option value="BA">BA</option>
<option value="MA">MA</option>
<option value="B.Sc">B.Sc</option>
<option value="M.Sc">M.Sc</option>
<option value="LLB">LLB</option>
<option value="LLM">LLM</option>
<option value="B.Ed">B.Ed</option>
<option value="M.Ed">M.Ed</option>
<option value="CA">CA</option>
<option value="CS">CS</option>
<option value="Diploma in Engineering">Diploma in Engineering</option>
<option value="Polytechnic">Polytechnic</option>
<option value="ITI">ITI</option>
<option value="Class 11">Class 11</option>
<option value="Class 12">Class 12</option>
<option value="Other">Other</option>

      </select>
    </fieldset>

    <fieldset>
      <legend>Bank Details</legend>

      <label for="bankName">Bank Name:</label>
      <select id="bankName" required>
        <option value="">-- Select --</option>
<option value="SBI">State Bank of India (SBI)</option>
<option value="PNB">Punjab National Bank (PNB)</option>
<option value="HDFC Bank">HDFC Bank</option>
<option value="ICICI Bank">ICICI Bank</option>
<option value="Axis Bank">Axis Bank</option>
<option value="Bank of Baroda">Bank of Baroda</option>
<option value="Canara Bank">Canara Bank</option>
<option value="Union Bank of India">Union Bank of India</option>
<option value="Indian Bank">Indian Bank</option>
<option value="Central Bank of India">Central Bank of India</option>
<option value="IDBI Bank">IDBI Bank</option>
<option value="Bank of India">Bank of India</option>
<option value="UCO Bank">UCO Bank</option>
<option value="Indian Overseas Bank">Indian Overseas Bank</option>
<option value="Yes Bank">Yes Bank</option>
<option value="Kotak Mahindra Bank">Kotak Mahindra Bank</option>
<option value="Federal Bank">Federal Bank</option>
<option value="IndusInd Bank">IndusInd Bank</option>
<option value="RBL Bank">RBL Bank</option>
<option value="South Indian Bank">South Indian Bank</option>
<option value="Karur Vysya Bank">Karur Vysya Bank</option>
<option value="Bandhan Bank">Bandhan Bank</option>
<option value="City Union Bank">City Union Bank</option>
<option value="Dhanlaxmi Bank">Dhanlaxmi Bank</option>
<option value="Jammu & Kashmir Bank">Jammu & Kashmir Bank</option>
<option value="Other">Other</option>

      </select>

      <label for="accountNumber">Account Number:</label>
      <input type="text" id="accountNumber" placeholder="Enter account number" required>

      <label for="ifscCode">IFSC Code:</label>
      <input type="text" id="ifscCode" placeholder="Enter IFSC code" required>
    </fieldset>

    <button type="button" class="download-btn" onclick="generateCertificatePDF()">Download Certificate PDF</button>
  </form>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    // Form validation
    document.getElementById('percentage').addEventListener('blur', function() {
      const percentage = parseFloat(this.value);
      const alertElement = document.getElementById('percentageAlert');
      const downloadButton = document.querySelector('.download-btn');
      
      if (percentage < 60) {
        alertElement.style.display = 'block';
        downloadButton.disabled = true;
      } else {
        alertElement.style.display = 'none';
        downloadButton.disabled = false;
      }
    });

    function getFormData() {
      return {
        title: document.getElementById('title').value,
        fullname: document.getElementById('fullname').value,
        sex: document.getElementById('sex').value,
        mobile: document.getElementById('mobile').value,
        email: document.getElementById('email').value,
        applyDate: document.getElementById('applyDate').value,
        state: document.getElementById('state').value,
        district: document.getElementById('district').value,
        institution: document.getElementById('institution').value,
        currentCourse: document.getElementById('currentCourse').value,
        exam: document.getElementById('exam').value,
        year: document.getElementById('year').value,
        percentage: document.getElementById('percentage').value,
        bankName: document.getElementById('bankName').value,
        accountNumber: document.getElementById('accountNumber').value,
        ifscCode: document.getElementById('ifscCode').value
      };
    }

    function validateForm(formData) {
      // Check required fields
      const requiredFields = [
        'title', 'fullname', 'sex', 'mobile', 'email', 'applyDate',
        'state', 'district', 'institution', 'currentCourse', 'exam',
        'year', 'percentage', 'bankName', 'accountNumber', 'ifscCode'
      ];
      
      for (const field of requiredFields) {
        if (!formData[field]) {
          alert(`Please fill in the ${field.replace(/([A-Z])/g, ' $1').toLowerCase()} field.`);
          return false;
        }
      }

      // Validate percentage
      if (parseFloat(formData.percentage) < 60) {
        alert('Percentage must be 60% or above.');
        return false;
      }

      // Validate email format
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(formData.email)) {
        alert('Please enter a valid email address.');
        return false;
      }

      // Validate mobile number
      if (formData.mobile.length < 10 || !/^\d+$/.test(formData.mobile)) {
        alert('Please enter a valid mobile number.');
        return false;
      }

      return true;
    }

    async function generateCertificatePDF() {
      const formData = getFormData();
      if (!validateForm(formData)) return;

      const { jsPDF } = window.jspdf;
      const doc = new jsPDF("p", "pt", "a4");

      const get = id => document.getElementById(id)?.value || "-";

      // Watermark
      doc.saveGraphicsState();
      doc.setTextColor(230, 230, 230);
      doc.setFontSize(60);
      doc.setFont("helvetica", "bold");
      doc.text("Aurora Scholarship", 100, 400, {
        angle: 45,
        opacity: 0.2,
      });
      doc.restoreGraphicsState();

      // Heading
      doc.setFont("times", "bold");
      doc.setFontSize(14);
      doc.setTextColor(0, 0, 0);
      doc.text("Aurora Scholarship Application Form", doc.internal.pageSize.getWidth() / 2, 60, { align: "center" });

      doc.setLineWidth(0.5);
      doc.line(40, 70, 555, 70);

      doc.setFont("times", "italic");
      doc.setFontSize(8);
      doc.text("This document contains the official details submitted by the applicant:", doc.internal.pageSize.getWidth() / 2, 85, { align: "center" });

      let y = 110;
      doc.setFont("times", "normal");
      doc.setFontSize(13);

      const addSectionTitle = title => {
        doc.setFont("times", "bold");
        doc.setFontSize(13);
        doc.text(title, 50, y);
        y += 10;
        doc.setLineWidth(0.2);
        doc.line(50, y, 550, y);
        y += 10;
        doc.setFont("times", "normal");
        doc.setFontSize(13);
      };

      const addLine = (label, value) => {
        if (y > 750) {
          doc.addPage();
          y = 60;
        }
        doc.text(`${label}:`, 60, y);
        doc.text(value, 200, y);
        y += 18;
      };

      const data = {
        "Title": get("title"),
        "Full Name": get("fullname"),
        "Sex": get("sex"),
        "Mobile Number": get("mobile"),
        "Email": get("email"),
        "Apply Date": get("applyDate"),
        "State": get("state"),
        "District": get("district"),
        "Institution": get("institution"),
        "Current Course": get("currentCourse"),
        "Qualifying Exam": get("exam"),
        "Year of Exam": get("year"),
        "Percentage": get("percentage") + " %",
        "Bank Name": get("bankName"),
        "Account Number": get("accountNumber"),
        "IFSC Code": get("ifscCode")
      };

      addSectionTitle("Personal Details");
      addLine("Title", data["Title"]);
      addLine("Full Name", data["Full Name"]);
      addLine("Sex", data["Sex"]);
      addLine("Mobile Number", data["Mobile Number"]);
      addLine("Email", data["Email"]);
      addLine("Apply Date", data["Apply Date"]);
      addLine("State", data["State"]);
      addLine("District", data["District"]);

      addSectionTitle("Educational Details");
      addLine("Institution", data["Institution"]);
      addLine("Current Course", data["Current Course"]);
      addLine("Qualifying Exam", data["Qualifying Exam"]);
      addLine("Year of Exam", data["Year of Exam"]);
      addLine("Percentage", data["Percentage"]);

      addSectionTitle("Bank Details");
      addLine("Bank Name", data["Bank Name"]);
      addLine("Account Number", data["Account Number"]);
      addLine("IFSC Code", data["IFSC Code"]);

      doc.setFont("times", "italic");
      doc.setFontSize(9);
      doc.text("This is a system-generated certificate and does not require a signature.", doc.internal.pageSize.getWidth() / 2, 790, { align: "center" });

      // Save to localStorage for admin
      const pdfData = {
        pdf: doc.output('datauristring'),
        formData: formData,
        timestamp: new Date().toLocaleString()
      };

      let applications = JSON.parse(localStorage.getItem('scholarshipApplications')) || [];
      applications.push(pdfData);
      localStorage.setItem('scholarshipApplications', JSON.stringify(applications));

      // Download PDF
      doc.save("Aurora_Scholarship_Certificate.pdf");
      
      // Redirect to document upload after download
      setTimeout(() => {
        window.location.href = "registration.html";
      }, 1000);
    }
  </script>
</body>
</html>